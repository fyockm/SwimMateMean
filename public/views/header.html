<div class="navbar-inner" ng-controller="HeaderController" ng-init="init()">
  <ul class="nav">
    <li><a class="brand" href="/">SwimMate</a></li>
    <li ng-repeat="item in menu" ng-show="global.user" ui-route="/{{item.link}}" ng-class="{active: $uiRoute, dropdown: item.dropdown, divider: item.title}">
      <a ng-hide="item.dropdown" href="#!/{{item.link}}">{{item.title}}</a>
      <a ng-show="item.dropdown" class="dropdown-toggle" href="#!/">{{item.title}}<b class="caret"></b></a>
      <ul ng-show="item.dropdown" class="dropdown-menu">
        <li ng-repeat="subitem in item.sub" ui-route="/{{subitem.link}}" ng-class="{active: $uiRoute, dropdown: subitem.dropdown, divider: !subitem.title}">
          <a href="#!/{{subitem.link}}">{{subitem.title}}</a>
        </li>
      </ul>
    </li>
  </ul>
  <ul class="nav pull-right" ng-hide="global.authenticated">
    <li><a href="signup">Signup</a></li>
    <li class="divider-vertical"></li>
    <li><a href="signin">Signin</a></li>
  </ul>
  <ul class="nav pull-right" ng-show="global.authenticated">
    <li class="dropdown">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown">
        {{global.user.name}} <b class="caret"></b>
      </a>
      <ul class="dropdown-menu">
        <li ><a href="/signout">Signout</a></li>
      </ul>
    </li>
  </ul>
</div>